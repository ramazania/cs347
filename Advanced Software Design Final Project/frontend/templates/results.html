{% extends "base.html" %}

{% block title %}Results{% endblock title %}

{% block header1 %}Results{% endblock header1 %}

{% block content %}

    {% if gameState == 1 %}

    <div class="results-body">
        <h2>You Won!</h2>
        <p class="results-p">
        You broke the code!<br>
        Number of attempts: {{attempts}}<br>
        The Password: <div id="results-password"></div>
        </p>
        <p class="results-p">
        Would you like to play again?
        </p>
        <a class="buttonlink oldgame" href="{{ url_for('pregame') }}">Play Again</a>
    </div>
    {% elif gameState == 2 %}

    <div class="results-body">
        <h2>You Lost...</h2>
        <p class="results-p">
        Better luck next time!<br>
        Number of attempts: {{attempts}}<br>
        The Password: <div id="results-password"></div>
        </p>
        <p class="results-p">
        Would you like to try again?
        </p>
        <a class="buttonlink oldgame" href="{{ url_for('pregame') }}">Try Again</a>
    </div>
    {% endif %}

    <script>
        let results = document.getElementById("results-password");
        const colors = {{ masterPass | tojson }};
            for (i = 0; i < colors.length; i++) {
                const colorPassIcon = document.createElement("span");
                colorPassIcon.classList.add("coloricon");
                colorPassIcon.style.backgroundColor = colors[i];
                results.appendChild(colorPassIcon);
            }
    </script>
{% endblock content %}